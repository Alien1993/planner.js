var Handlebars=function(){var a=function(){"use strict";function a(a){this.string=a}var b;return a.prototype.toString=function(){return""+this.string},b=a}(),b=function(a){"use strict";function b(a){return h[a]||"&amp;"}function c(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])}function d(a){return a instanceof g?a.toString():a||0===a?(a=""+a,j.test(a)?a.replace(i,b):a):""}function e(a){return a||0===a?m(a)&&0===a.length?!0:!1:!0}var f={},g=a,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/;f.extend=c;var k=Object.prototype.toString;f.toString=k;var l=function(a){return"function"==typeof a};l(/x/)&&(l=function(a){return"function"==typeof a&&"[object Function]"===k.call(a)});var l;f.isFunction=l;var m=Array.isArray||function(a){return a&&"object"==typeof a?"[object Array]"===k.call(a):!1};return f.isArray=m,f.escapeExpression=d,f.isEmpty=e,f}(a),c=function(){"use strict";function a(a,b){var d;b&&b.firstLine&&(d=b.firstLine,a+=" - "+d+":"+b.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<c.length;f++)this[c[f]]=e[c[f]];d&&(this.lineNumber=d,this.column=b.firstColumn)}var b,c=["description","fileName","lineNumber","message","name","number","stack"];return a.prototype=new Error,b=a}(),d=function(a,b){"use strict";function c(a,b){this.helpers=a||{},this.partials=b||{},d(this)}function d(a){a.registerHelper("helperMissing",function(a){if(2===arguments.length)return void 0;throw new h("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var d=c.inverse||function(){},e=c.fn;return m(b)&&(b=b.call(this)),b===!0?e(this):b===!1||null==b?d(this):l(b)?b.length>0?a.helpers.each(b,c):d(this):e(b)}),a.registerHelper("each",function(a,b){var c,d=b.fn,e=b.inverse,f=0,g="";if(m(a)&&(a=a.call(this)),b.data&&(c=q(b.data)),a&&"object"==typeof a)if(l(a))for(var h=a.length;h>f;f++)c&&(c.index=f,c.first=0===f,c.last=f===a.length-1),g+=d(a[f],{data:c});else for(var i in a)a.hasOwnProperty(i)&&(c&&(c.key=i,c.index=f,c.first=0===f),g+=d(a[i],{data:c}),f++);return 0===f&&(g=e(this)),g}),a.registerHelper("if",function(a,b){return m(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||g.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){return m(a)&&(a=a.call(this)),g.isEmpty(a)?void 0:b.fn(a)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)})}function e(a,b){p.log(a,b)}var f={},g=a,h=b,i="1.3.0";f.VERSION=i;var j=4;f.COMPILER_REVISION=j;var k={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};f.REVISION_CHANGES=k;var l=g.isArray,m=g.isFunction,n=g.toString,o="[object Object]";f.HandlebarsEnvironment=c,c.prototype={constructor:c,logger:p,log:e,registerHelper:function(a,b,c){if(n.call(a)===o){if(c||b)throw new h("Arg not supported with multiple helpers");g.extend(this.helpers,a)}else c&&(b.not=c),this.helpers[a]=b},registerPartial:function(a,b){n.call(a)===o?g.extend(this.partials,a):this.partials[a]=b}};var p={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(p.level<=a){var c=p.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};f.logger=p,f.log=e;var q=function(a){var b={};return g.extend(b,a),b};return f.createFrame=q,f}(b,c),e=function(a,b,c){"use strict";function d(a){var b=a&&a[0]||1,c=m;if(b!==c){if(c>b){var d=n[c],e=n[b];throw new l("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new l("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function e(a,b){if(!b)throw new l("No environment passed to template");var c=function(a,c,d,e,f,g){var h=b.VM.invokePartial.apply(this,arguments);if(null!=h)return h;if(b.compile){var i={helpers:e,partials:f,data:g};return f[c]=b.compile(a,{data:void 0!==g},b),f[c](d,i)}throw new l("The partial "+c+" could not be compiled when running in runtime-only mode")},d={escapeExpression:k.escapeExpression,invokePartial:c,programs:[],program:function(a,b,c){var d=this.programs[a];return c?d=g(a,b,c):d||(d=this.programs[a]=g(a,b)),d},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c={},k.extend(c,b),k.extend(c,a)),c},programWithDepth:b.VM.programWithDepth,noop:b.VM.noop,compilerInfo:null};return function(c,e){e=e||{};var f,g,h=e.partial?e:b;e.partial||(f=e.helpers,g=e.partials);var i=a.call(d,h,c,f,g,e.data);return e.partial||b.VM.checkRevision(d.compilerInfo),i}}function f(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e}function g(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d}function h(a,b,c,d,e,f){var g={partial:!0,helpers:d,partials:e,data:f};if(void 0===a)throw new l("The partial "+b+" could not be found");return a instanceof Function?a(c,g):void 0}function i(){return""}var j={},k=a,l=b,m=c.COMPILER_REVISION,n=c.REVISION_CHANGES;return j.checkRevision=d,j.template=e,j.programWithDepth=f,j.program=g,j.invokePartial=h,j.noop=i,j}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,f=m}(d,a,c,b,e);return f}();!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):(a.Ds=a.Ds||{},a.Ds.HashMap=b())}(this,function(){"use strict";var a=function(){function a(){throw new Error("Illegal operation for Hashmap")}function b(a){return typeof a+" "+(a instanceof Object?a._hash||(a._hash=++c):a.toString())}var c=0,d=0;this.get=function(a){var c=this[b(a)];return c&&c.value},this.put=function(a,c){var e=b(a);return"undefined"==typeof this[e]?(this[e]={key:a,value:c},d+=1):this[e].value=c,this},this.remove=function(a){var c=b(a),e=this[c];return"undefined"!=typeof e&&(d-=1,delete this[c]),this},Object.defineProperty(this,"size",{get:function(){return d},set:function(){a()}})};return a}),function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):(a.Ds=a.Ds||{},a.Ds.Set=b())}(this,function(){"use strict";var a=function(){function a(){throw new Error("Illegal operation for Set")}function b(a){return typeof a+" "+(a instanceof Object?a._hash||(a._hash=++c):a.toString())}var c=0,d={},e=0;this["in"]=function(a){var c=b(a);return"undefined"!=typeof d[c]},this.add=function(a){var c=b(a);return"undefined"==typeof d[c]&&(e+=1),d[c]=a,this},this.update=function(a){for(var c=0;c<a.length;c++){var f=b(a[c]);"undefined"==typeof d[f]&&(e+=1),d[f]=a[c]}return this},this.remove=function(a){var c=b(a),f=d[c];if("undefined"==typeof f)throw new Error("KeyError: object "+f+" is not stored");return e-=1,delete d[c],this},this.discard=function(a){try{this.remove(a)}catch(b){}return this},this.clear=function(){for(var a in d)d.hasOwnProperty(a)&&this.remove(d[a]);return this},this.items=function(){return Object.keys(d).map(function(a){return d[a]})},Object.defineProperty(this,"size",{get:function(){return e},set:function(){a()}})};return a}),function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):a.Messenger=b()}(this,function(){"use strict";function a(){var a={},b=-1;this.publish=function(b,c){if(!a[b])return!1;for(var d=a[b],e=d?d.length:0;e--;)d[e].func.apply(this,c);return this},this.subscribe=function(c,d){if(!c||"function"!=typeof d)throw new Error("Missing a valid channel or callback");a[c]||(a[c]=[]);var e=(++b).toString();return a[c].push({token:e,func:d}),e},this.unsubscribe=function(b){if(!b)throw new Error("Can't unsubscribe without a valid token");for(var c in a)if(a[c])for(var d=0,e=a[c].length;e>d;d++)if(a[c][d].token===b)return a[c].splice(d,1),b;throw new Error("Can't unsubscribe from a token that doesn't exist")}}return a}),function(a,b){"use strict";function c(a,c){function g(a){var c=this;Object.defineProperty(c,"__attributes__",{value:{}}),Object.defineProperty(c,"__inFlightAttributes__",{value:{}}),a=c.deserializer(a),c.__fields__.forEach(function(d){c.__attributes__[d]=a[d],c.__inFlightAttributes__[d]=b}),c.rollback=function(){for(var a in c.__inFlightAttributes__)c.__inFlightAttributes__.hasOwnProperty(a)&&(c.__inFlightAttributes__[a]=b)},c.persist=function(){for(var a in c.__inFlightAttributes__)c.__inFlightAttributes__.hasOwnProperty(a)&&"undefined"!=typeof c.__inFlightAttributes__[a]&&(c.__attributes__[a]=c.__inFlightAttributes__[a],c.__inFlightAttributes__[a]=b)}}function h(){return d({},this.__attributes__,this.__inFlightAttributes__)}function i(a){return a||{}}function j(a){if("function"!=typeof a)throw new Error("Model serializer should be a function");g.prototype.toJSON=function(){var b=h.apply(this);return a.apply(b)}}function k(a){if("function"!=typeof a)throw new Error("Model deserializer should be a function");g.prototype.deserializer=a}return Object.defineProperty(g.prototype,"__fields__",{value:a,writable:!0}),e(g.prototype.__fields__,g.prototype),f(c,g.prototype),g.prototype.toJSON=h,g.prototype.deserializer=i,g.setSerializer=j,g.setDeserializer=k,g}function d(a){var c=Object.prototype.toString;a=a||{};for(var e=1;e<arguments.length;e++){var f=arguments[e];if(f)for(var g in f)if(f.hasOwnProperty(g)&&"undefined"!=typeof f[g]){var h=c.call(f[g]);switch(h){case"[object Object]":a[g]=d(a[g],f[g]);break;default:a[g]=f[g]}}}return Object.getOwnPropertyNames(a).length>0?a:b}function e(a,c){a.forEach(function(a){Object.defineProperty(c,a,{get:function(){return this.__inFlightAttributes__[a]!==b?this.__inFlightAttributes__[a]:this.__attributes__[a]},set:function(b){this.__inFlightAttributes__[a]=b}})})}function f(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c])}c.extend=function(a,b,d){var g=new c(b);return g.prototype=new a,g.prototype.__fields__=b.concat(g.prototype.__fields__),e(b,g.prototype),f(d,g.prototype),g},a.Model=c}(window),function(a){"use strict";var b=function(c,d){var e=a.Planner.Utils.getAttributes(c);return d=a.Planner.Utils.extend({},b.DEFAULTS,a.Planner.Plugins.DEFAULTS,e,d),d.plugins=d.plugins||"string"==typeof d.plugins&&d.plugins.split(" ")||[],d.model=d.model||Planner.Models.Card,new a.Planner.Instance(c,d)};b.CONST={ALIGNMENT:{TOP:0,MIDDLE:1}},b.DEFAULTS={autoId:!0,show:!0,plugins:[],model:null,timeslots:4,timeslotHeight:25,timeslotPadding:20,cardTitleMargin:6,centered:b.CONST.ALIGNMENT.TOP,columnLabels:[],rowLabels:[],visibleColumns:7},document.addEventListener("DOMContentLoaded",function(){for(var a=document.querySelectorAll('[data-planner=""]'),c=0;c<a.length;c++)new b(a[c])}),a.Planner=b}(window),Planner.Modernizr=function(a,b,c){function d(a){n.cssText=a}function e(a,b){return typeof a===b}var f,g,h,i="2.8.3",j={},k=b.documentElement,l="modernizr",m=b.createElement(l),n=m.style,o=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),p={},q=[],r=q.slice,s=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:l+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',l,'">',a,"</style>"].join(""),j.id=l,(m?j:n).innerHTML+=f,n.appendChild(j),m||(n.style.background="",n.style.overflow="hidden",i=k.style.overflow,k.style.overflow="hidden",k.appendChild(n)),g=c(j,a),m?j.parentNode.removeChild(j):(n.parentNode.removeChild(n),k.style.overflow=i),!!g},t={}.hasOwnProperty;h=e(t,"undefined")||e(t.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return t.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=r.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(r.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(r.call(arguments)))};return d}),p.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:s(["@media (",o.join("touch-enabled),("),l,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c};for(var u in p)h(p,u)&&(g=u.toLowerCase(),j[g]=p[u](),q.push((j[g]?"":"no-")+g));return j.addTest=function(a,b){if("object"==typeof a)for(var d in a)h(a,d)&&j.addTest(d,a[d]);else{if(a=a.toLowerCase(),j[a]!==c)return j;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(k.className+=" "+(b?"":"no-")+a),j[a]=b}return j},d(""),m=f=null,j._version=i,j._prefixes=o,j.testStyles=s,j}(this,this.document),function(a,b){"use strict";a.Instance=function(c,d){this.element=c,this.options=d,this.mapCard=new b,this.mapDom=new b,this.events=new Messenger,0===d.columnLabels.length&&(d.columnLabels=a.Helpers.getDefaultColumns()),0===d.rowLabels.length&&(d.rowLabels=a.Helpers.getDefaultRows()),d.visibleColumns=d.visibleColumns>d.columnLabels.length?d.columnLabels.length:d.visibleColumns,c.setAttribute("data-planner","container"),d.show&&(this.element.innerHTML=a.Templates.body(d));var e=document.querySelector("head");e.appendChild(this._computedCSS()),a.Plugins.load(d.plugins,this)}}(window.Planner=window.Planner||{},Ds.HashMap),function(a,b){"use strict";a.pad=function(a,b){return"undefined"==typeof b&&(b=-2),("0"+a).slice(b)},a.extend=function(a){a=a||{};for(var b=1;b<arguments.length;b++)if(arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a},a.addClass=function(a,b){a.classList?a.classList.add(b):a.className+=" "+b},a.removeClass=function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")},a.hasClass=function(a,b){a.classList?a.classList.contains(b):new RegExp("(^| )"+b+"( |$)","gi").test(a.className)},a.createElement=function(a){var b=document.createElement("div");return b.innerHTML=a,b.childNodes[0]},a.getAttributes=function(a){var c=a.attributes,d={};for(var f in c)if(c.hasOwnProperty(f)&&c[f].name&&c[f].name.indexOf("data-")>-1){var g=e(c[f].name.split("data-")[1]),h=c[f].value;if("string"==typeof h)try{h="true"===h?!0:"false"===h?!1:"null"===h?null:+h+""===h?+h:h}catch(i){}else h=b;d[g]=h}return d},a.index=function(a){var b=a.parentNode;return Array.prototype.indexOf.call(b.children,a)},a.offset=function(a){var b=a.getBoundingClientRect();return{top:b.top+document.body.scrollTop,left:b.left+document.body.scrollLeft}},a.updateDate=function(a,b,c,d){var e=new Date(a);return e.setHours(b),e.setMinutes(c),e.setSeconds(d||0),e},a.clamp=function(a,b,c){return Math.min(Math.max(a,b),c)},a.getColumnWidth=function(b,c){return c=c||a.getColumns(b),c[0].offsetWidth},a.getColumns=function(a){for(var b=[],c=a.querySelectorAll(".planner-column"),d=0;d<c.length;d++)"none"!==c[d].style.display&&b.push(c[d]);return b};var c=/([\:\-\_]+(.))/g,d=/^moz([A-Z])/,e=function(a){return a.replace(c,function(a,b,c,d){return d?c.toUpperCase():c}).replace(d,"Moz$1")}}(Planner.Utils=Planner.Utils||{}),function(a,b){"use strict";var c=[{id:0,name:"Monday"},{id:1,name:"Tuesday"},{id:2,name:"Wednesday"},{id:3,name:"Thursday"},{id:4,name:"Friday"},{id:5,name:"Saturday"},{id:6,name:"Sunday"}],d=[{name:"00:00"},{name:"01:00"},{name:"02:00"},{name:"03:00"},{name:"04:00"},{name:"05:00"},{name:"06:00"},{name:"07:00"},{name:"08:00"},{name:"09:00"},{name:"10:00"},{name:"11:00"},{name:"12:00"},{name:"13:00"},{name:"14:00"},{name:"15:00"},{name:"16:00"},{name:"17:00"},{name:"18:00"},{name:"19:00"},{name:"20:00"},{name:"21:00"},{name:"22:00"},{name:"23:00"}];a.getDefaultColumns=function(){return c},a.getDefaultRows=function(){return d},a.generateId=function(a){return a.lastId=a.lastId||999,++a.lastId},b.registerHelper("times",function(a,b){for(var c="",d=0;a>d;++d)c+=b.fn(d);return c})}(Planner.Helpers=Planner.Helpers||{},Handlebars),function(a,b){"use strict";var c={};c._computedCSS=function(){var a=this.options.timeslotHeight*this.options.timeslots,b=this.options.centered?a/2:a,c={timeslots:this.options.timeslots,timeslotHeight:this.options.timeslotHeight,timeslotPadding:a-this.options.timeslotPadding,timeslotNormalized:a-this.options.timeslotPadding-1,lastTimeslotPadding:b,sliderWidth:100/this.options.visibleColumns},d=document.createElement("style");return d.innerHTML=Planner.Templates.styles(c),d},c._attributeToIndex=function(a){var b;if("function"==typeof a.getHours&&"function"==typeof a.getMinutes)b=a.getHours()*this.options.timeslots+a.getMinutes()/(60/this.options.timeslots);else{if("string"!=typeof a)throw new Error("Unable to find a valid index from start/end card attribute. Define your own implementation.");b=this.options.rowLabels.indexOf(a)}return b},c._indexToAttribute=function(a){var b=Math.floor((a-1)/this.options.timeslots),c=15*(a%this.options.timeslots);return c===a%this.options.timeslots&&(b+=1),{hours:b,minutes:c}},a.prototype=b.extend(a.prototype,c)}(Planner.Instance=Planner.Instance||{},Planner.Utils),function(a,b,c){"use strict";var d={};d.drawCard=function(a,c){var d,e=this.mapCard.get(a);if("undefined"==typeof e){a.fixed=c,e={},this.mapCard.put(a,e);for(var f=0;f<a.columns.length;f++){var g=a.columns[f];d=b.createElement(Planner.Templates.card(a)),this.updateDom(d,a,g),this.mapDom.put(d,a),e[g]=d,this._drawDom(d)}this.events.publish("cardDrawn",[a])}},d._drawDom=function(a){var c=parseInt(a.getAttribute("data-column"),10),d=parseInt(a.getAttribute("data-start"),10),e=b.index(this.element.querySelector('[data-column-id="'+c+'"]'))+1;this.element.querySelector(".planner-column:nth-of-type("+e+") > div:nth-of-type("+(d+1)+")").appendChild(a),this.events.publish("cardDomDrawn",[this.mapDom.get(a),a])},d.updateDom=function(a,b,c){var d=this._attributeToIndex(b.start),e=this._attributeToIndex(b.end)-1;if(0>e&&(e=this.options.timeslots*this.options.rowLabels.length-1),e=d>e?d:e,e>=d){var f=(e-d+1)*this.options.timeslotHeight-this.options.cardTitleMargin;"undefined"!=typeof c&&a.setAttribute("data-column",c),a.setAttribute("data-id",b.id),a.setAttribute("data-start",d),a.setAttribute("data-end",e),a.querySelector(".planner-card-time").innerHTML=b.header(),a.style.height=f+"px"}},d._removeDom=function(a){a.parentNode.removeChild(a);var b=this.mapDom.get(a),c=this.mapCard.get(b);delete c[parseInt(a.getAttribute("data-column"),10)],this.mapDom.remove(a),this.events.publish("cardDomDeleted",[b,a])},d.undrawCard=function(a){var b,c=this.mapCard.get(a);for(var d in c)c.hasOwnProperty(d)&&(b=c[d],this._removeDom(b));this.mapCard.remove(a),this.events.publish("cardDeleted",[this])},d.clear=function(){for(var a,b=document.querySelectorAll(".planner-card"),d=0;d<b.length;d++)a=b[d],a.parentNode.removeChild(a);this.mapCard=new c,this.mapDom=new c},a.prototype=b.extend(a.prototype,d)}(Planner.Instance=Planner.Instance||{},Planner.Utils,Ds.HashMap),function(a,b){"use strict";function c(){var a="";return null!==this.start&&null!==this.end&&(a=Planner.Utils.pad(this.start.getHours())+":"+Planner.Utils.pad(this.start.getMinutes())+" - "+Planner.Utils.pad(this.end.getHours())+":"+Planner.Utils.pad(this.end.getMinutes())),a}function d(a){this.id=a.id||this.id,this.title=a.title||this.title,this.content=a.content||this.content,this.start=a.start||this.start,this.end=a.end||this.end,this.columns=a.columns||this.columns}var e=["id","title","content","start","end","columns"],f={header:c,update:d};b.Card=new a(e,f)}(window.Model,Planner.Models=Planner.Models||{}),this.Planner=this.Planner||{},this.Planner.Templates=this.Planner.Templates||{},this.Planner.Templates.interaction=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return"<style>\n\n    div.planner-card > .planner-card-drag {\n        width: 100%;\n        text-align: center;\n        font-size: 10px;\n        bottom: 1px;\n        position: absolute;\n        cursor: ns-resize;\n    }\n\n    div.planner-card.resizable {\n        cursor: ns-resize;\n    }\n</style>\n"},useData:!0}),this.Planner.Templates.mobile=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a){var b,c=this.lambda,d=this.escapeExpression;return"<style>\n\n    @media (max-width: 768px) {\n        .planner-container.planner-column {\n            margin-right: 5px;\n        }\n\n        .planner-header.planner-column-header {\n            margin-right: 5px;\n        }\n\n        .planner-timeslots {\n            padding-right: 5px;\n        }\n\n        .planner-card-drag {\n            display: none;\n        }\n    }\n\n\n    @media (max-width: 768px) and (orientation: portrait) {\n        .planner-container.planner-column {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.phone:b)?b.portrait:b,a))+"%;\n        }\n\n        .planner-header.planner-column-header {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.phone:b)?b.portrait:b,a))+"%;\n        }\n\n        .planner-slider {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.phone:b)?b.portrait:b,a))+"%;\n        }\n    }\n\n\n    @media (max-width: 768px) and (orientation: landscape) {\n        .planner-container.planner-column {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.phone:b)?b.landscape:b,a))+"%;\n        }\n\n        .planner-header.planner-column-header {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.phone:b)?b.landscape:b,a))+"%;\n        }\n\n        .planner-slider {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.phone:b)?b.landscape:b,a))+"%;\n        }\n    }\n\n\n    @media (min-width: 768px) and (max-width: 991px) and (orientation: portrait) {\n        .planner-container.planner-column {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.tablet:b)?b.portrait:b,a))+"%;\n        }\n\n        .planner-header.planner-column-header {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.tablet:b)?b.portrait:b,a))+"%;\n        }\n\n        .planner-slider {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.tablet:b)?b.portrait:b,a))+"%;\n        }\n    }\n\n\n    @media (min-width: 768px) and (max-width: 991px) and (orientation: landscape) {\n        .planner-container.planner-column {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.tablet:b)?b.landscape:b,a))+"%;\n        }\n\n        .planner-header.planner-column-header {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.tablet:b)?b.landscape:b,a))+"%;\n        }\n\n        .planner-slider {\n            width: "+d(c(null!=(b=null!=(b=null!=a?a.widths:a)?b.tablet:b)?b.landscape:b,a))+"%;\n        }\n    }\n</style>\n"},useData:!0}),this.Planner.Templates.styles=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return"\n.planner-column > div {\n    height: "+h((e=null!=(e=b.timeslotHeight||(null!=a?a.timeslotHeight:a))?e:g,typeof e===f?e.call(a,{name:"timeslotHeight",hash:{},data:d}):e))+"px;\n}\n\n.planner-column > div:nth-child("+h((e=null!=(e=b.timeslots||(null!=a?a.timeslots:a))?e:g,typeof e===f?e.call(a,{name:"timeslots",hash:{},data:d}):e))+"n) {\n    border-bottom: 2px solid #cccccc;\n}\n\n\n.planner-timeslots > div:not(:first-child) {\n    padding-top: "+h((e=null!=(e=b.timeslotPadding||(null!=a?a.timeslotPadding:a))?e:g,typeof e===f?e.call(a,{name:"timeslotPadding",hash:{},data:d}):e))+"px;\n}\n\n\n.planner-timeslots > div:nth-child(2) {\n    padding-top: "+h((e=null!=(e=b.timeslotNormalized||(null!=a?a.timeslotNormalized:a))?e:g,typeof e===f?e.call(a,{name:"timeslotNormalized",hash:{},data:d}):e))+"px;\n}\n\n.planner-timeslots > div:last-child {\n    padding-bottom: "+h((e=null!=(e=b.lastTimeslotPadding||(null!=a?a.lastTimeslotPadding:a))?e:g,typeof e===f?e.call(a,{name:"lastTimeslotPadding",hash:{},data:d}):e))+"px;\n}\n\n.planner-slider {\n    width: "+h((e=null!=(e=b.sliderWidth||(null!=a?a.sliderWidth:a))?e:g,typeof e===f?e.call(a,{name:"sliderWidth",hash:{},data:d}):e))+"%;\n}\n"},useData:!0}),this.Planner=this.Planner||{},this.Planner.Templates=this.Planner.Templates||{},Handlebars.registerPartial("card",this.Planner.Templates.card=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<div class="planner-card">\n    <div class="planner-card-time">'+h((e=null!=(e=b.header||(null!=a?a.header:a))?e:g,typeof e===f?e.call(a,{name:"header",hash:{},data:d}):e))+'</div>\n    <div class="planner-card-title">'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:g,typeof e===f?e.call(a,{name:"title",hash:{},data:d}):e))+"</div>\n</div>\n"},useData:!0})),Handlebars.registerPartial("column",this.Planner.Templates.column=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return""},useData:!0})),Handlebars.registerPartial("timeslot",this.Planner.Templates.timeslot=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return"<div>"+h((e=null!=(e=b.name||(null!=a?a.name:a))?e:g,typeof e===f?e.call(a,{name:"name",hash:{},data:d}):e))+"</div>\n"},useData:!0})),Handlebars.registerPartial("drag",this.Planner.Templates.drag=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<div class="planner-card-drag">'+h((e=null!=(e=b.dragComponent||(null!=a?a.dragComponent:a))?e:g,typeof e===f?e.call(a,{name:"dragComponent",hash:{},data:d}):e))+"</div>\n"},useData:!0})),Handlebars.registerPartial("hourline",this.Planner.Templates.hourline=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<div class="hourline"></div>\n'},useData:!0})),this.Planner.Templates.body=Handlebars.template({1:function(a,b,c,d){var e,f="";return e=this.invokePartial(c.timeslot,"            ","timeslot",a,void 0,b,c,d),null!=e&&(f+=e),f},3:function(a,b,c,d,e){var f,g,h="function",i=b.helperMissing,j=this.escapeExpression,k='              <div class="planner-column" data-column-id="'+j((g=null!=(g=b.id||(null!=a?a.id:a))?g:i,typeof g===h?g.call(a,{name:"id",hash:{},data:d}):g))+'">\n';return f=b.each.call(a,null!=e[1]?e[1].rowLabels:e[1],{name:"each",hash:{},fn:this.program(4,d,e),inverse:this.noop,data:d}),null!=f&&(k+=f),k+"              </div>\n"},4:function(a,b,c,d,e){var f,g=b.helperMissing,h="";return f=(b.times||a&&a.times||g).call(a,null!=e[2]?e[2].timeslots:e[2],{name:"times",hash:{},fn:this.program(5,d,e),inverse:this.noop,data:d}),null!=f&&(h+=f),h},5:function(){return"                      <div></div>\n"},7:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'          <div class="planner-column-header">\n              <div class="planner-column-header-inner">'+h((e=null!=(e=b.name||(null!=a?a.name:a))?e:g,typeof e===f?e.call(a,{name:"name",hash:{},data:d}):e))+"</div>\n          </div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d,e){var f,g='<div class="planner-scroller">\n    <div class="planner-container">\n        <div class="planner-timeslots">\n';return f=b.each.call(a,null!=a?a.rowLabels:a,{name:"each",hash:{},fn:this.program(1,d,e),inverse:this.noop,data:d}),null!=f&&(g+=f),g+='        </div>\n        <div class="planner-slider">\n',f=b.each.call(a,null!=a?a.columnLabels:a,{name:"each",hash:{},fn:this.program(3,d,e),inverse:this.noop,data:d}),null!=f&&(g+=f),g+='        </div>\n    </div>\n</div>\n\n<div class="planner-header">\n    <div class="planner-timeslots-header"></div>\n    <div class="planner-slider">\n',f=b.each.call(a,null!=a?a.columnLabels:a,{name:"each",hash:{},fn:this.program(7,d,e),inverse:this.noop,data:d}),null!=f&&(g+=f),g+'    </div>\n</div>\n\n<div class="arrow-switcher arrow-left"></div>\n<div class="arrow-switcher arrow-right"></div>\n'},usePartial:!0,useData:!0,useDepths:!0}),function(a,b){"use strict";a.DEFAULTS={},a.registry={},a.loaded={},a.load=function(b,c){if(!Array.isArray(b))throw new Error('"Plugins" option on Planner.js should be a list of string');for(var d=0;d<b.length;d++)a.call(b[d],c)},a.register=function(c,d){a.DEFAULTS=b.extend({},a.DEFAULTS,d.DEFAULTS),a.registry[c]=d},a.call=function(b,c,d){var e=a.registry[b];if("function"!=typeof e)throw new Error("Chosen plugin is not available: "+b);var f=e.bind(c,c.element,c.options,c,d);c.plugins=c.plugins||{},c.plugins[b]=new f,a.loaded[b]=!0},a.isRegistered=function(b){return"undefined"!=typeof a.registry[b]},a.requires=function(b){if(!a.loaded[b])throw new Error('"'+b+'" plugin is required.');return!0}}(Planner.Plugins=Planner.Plugins||{},Planner.Utils),function(a,b,c,d){"use strict";var e=function(b,e){function f(){var a,b=document.documentElement.clientWidth;if(b>=992)a=j.options.visibleColumns;else{var c=768>b?"phone":"tablet",d=h?"landscape":"portrait";a=j.options.mobileVisibleColumns[c][d]}return a}function g(){h=a.innerHeight<a.innerWidth}this.element=b,this.options=e,this.currentIndex=0,this.cacheSliders=b.querySelectorAll(".planner-slider");var h=!1,i=0,j=this,k=function(){var a=j.element.querySelector(".arrow-left"),b=j.element.querySelector(".arrow-right");a.addEventListener("click",function(){j.slideLeft()}),b.addEventListener("click",function(){j.slideRight()})},l=function(){for(var a=0,c=0,e=!1,g=function(b){b=b.touches[0],a=b.clientX},h=function(g){var h=g.touches[0];if(c=h.clientX-a,!e&&(c<-j.options.minMovement||c>j.options.minMovement)){var k=f(),l=d.getColumns(b);e=!0,j.minOffset=0;for(var m=0,o=j.cacheSliders.length;o>m;m++)j.cacheSliders[m].style.transition="none";for(m=0,o=l.length-k;o>m;m++)j.minOffset-=l[m].offsetWidth}e&&n(d.clamp(i+c,j.minOffset,0))},k=function(f){if(e){var g=f.changedTouches[0],h=Math.abs(Math.round((g.clientX-a)/d.getColumnWidth(b)));e=!1,c>j.options.minSwipe?j.slideLeft(h):c<-j.options.minSwipe?j.slideRight(h):n(i);for(var k=0;k<j.cacheSliders.length;k++)j.cacheSliders[k].style.transition="";c=0,i=m()}},l=0;l<j.cacheSliders.length;l++)j.cacheSliders[l].addEventListener("touchstart",g),j.cacheSliders[l].addEventListener("touchmove",h),j.cacheSliders[l].addEventListener("touchend",k)},m=function(){var a=d.getColumnWidth(b);return-a*j.currentIndex},n=function(a){if("number"!=typeof a)throw new Error("Unable to append a 3D translation if the value isn't a number");for(var b="translate3d("+a+"px, 0, 0)",c=0;c<j.cacheSliders.length;c++)j.cacheSliders[c].style.webkitTransform=b,j.cacheSliders[c].style.mozTransform=b,j.cacheSliders[c].style.msTransform=b,j.cacheSliders[c].style.oTransform=b,j.cacheSliders[c].style.transform=b};this.goToStart=function(){this.currentIndex=0,n(0),i=0},this.slideLeft=function(a){a=a||1,this.currentIndex=Math.max(this.currentIndex-a,0),n(m())},this.slideRight=function(a){a=a||1,this.currentIndex=Math.min(this.currentIndex+a,Math.max(d.getColumns(b).length-f(),0)),n(m())},g(),c.touch&&Planner.Plugins.isRegistered("mobile")?(a.addEventListener("resize",g,!1),l()):k()};e.DEFAULTS={minMovement:50,minSwipe:90,headerOffset:5},b.Slider=e,b.register("slider",e)}(window,Planner.Plugins,Planner.Modernizr,Planner.Utils),function(a,b,c){"use strict";var d=function(a,d,e){function f(a,b){var c=h(b);i(b,c)}function g(a,b){var c=h(b),d=c.all.items()[1];c.left.discard(b),c.split.discard(b),n(c.all.items()),i(d,c)}function h(a){var b,d,e,f,g=[],h=new c,i=new c,j=new c;for(g.push(a);g.length>0;)if(b=g.shift(),d=a.parentElement,null!==d){f=parseInt(b.getAttribute("data-id"),10),e=a.parentElement.parentElement.querySelectorAll('.planner-card:not(.dragged):not([data-id="'+f+'"])');

for(var k=0,n=e.length;n>k;k++)if(l(b,e[k])){var o=m(b,e[k]);o===p?i["in"](e[k])||(i.update([b,e[k]]),h.update([b,e[k]]),g.push(e[k])):j["in"](e[k])||(j.update([b,e[k]]),h.update([b,e[k]]),g.push(e[k]))}}return{all:h,split:i,left:j}}function i(a,b){b.split.size>0&&j(a,b.split.items()),b.left.size>0&&k(a,b.left.items())}function j(c,d){for(var e=c.offsetLeft,f=b.getColumnWidth(a)/d.length,g=0,h=d.length;h>g;g++){var i=e+f*g;d[g].style.width=f+"px",d[g].style.left=i+"px"}}function k(c,e){var f,g,h,i,j,k=c.offsetLeft;e.sort(o),e.shift();for(var l=0,m=e.length;m>l;l++){if(e[l].style.left){var n=e[l].style.left,p=e[l].style.width;n=n.substring(0,n.length-2),p=p.substring(0,p.length-2),f=parseInt(n,10),g=parseInt(p,10)}else f=k-d.marginAdjustment,g=e[l].offsetWidth;j=b.getColumnWidth(a)/g*d.collisionOffset,h=f+d.collisionOffset,i=e[l].offsetWidth-j,e[l].style.left=h+"px",e[l].style.width=i+"px"}}function l(a,b){var c=parseInt(a.getAttribute("data-start"),10),d=parseInt(a.getAttribute("data-end"),10),e=parseInt(b.getAttribute("data-start"),10),f=parseInt(b.getAttribute("data-end"),10);return c>=e&&f>=c||d>=e&&f>=d?!0:e>=c&&d>=f||e>=c&&d>=f}function m(a,b){var c=parseInt(a.getAttribute("data-start"),10),d=parseInt(b.getAttribute("data-start"),10);return c===d||c===d+1||d===c+1?p:q}function n(a){for(var b=0,c=a.length;c>b;b++)a[b].style.left="",a[b].style.width=""}function o(a,b){var c=parseInt(a.getAttribute("data-start"),10),d=parseInt(b.getAttribute("data-start"),10);return c-d}var p=0,q=1;e.events.subscribe("/card/interaction/drawn",f),e.events.subscribe("/card/actions/dragged",g),e.events.subscribe("cardDomDrawn",f)};d.DEFAULTS={marginAdjustment:3,collisionOffset:5},a.register("collision",d)}(Planner.Plugins,Planner.Utils,Ds.Set,Ds.HashMap),function(a,b){"use strict";var c=function(a,c){var d={widths:{phone:{landscape:100/c.mobileVisibleColumns.phone.landscape,portrait:100/c.mobileVisibleColumns.phone.portrait},tablet:{landscape:100/c.mobileVisibleColumns.tablet.landscape,portrait:100/c.mobileVisibleColumns.tablet.portrait}}};document.querySelector("head").appendChild(b.createElement(Planner.Templates.mobile(d)))};c.DEFAULTS={mobileVisibleColumns:{phone:{landscape:2,portrait:1},tablet:{landscape:5,portrait:3}}},a.register("mobile",c)}(Planner.Plugins,Planner.Utils),function(a,b,c){"use strict";function d(b,d){function e(){var a=new Date,b=a.getHours()+a.getMinutes()/60;return b*d.timeslotHeight*d.timeslots+d.hourlineMargin}function f(){var b=e(),c=a.screen.height/d.hourlineScreenSection;a.scroll(0,b-c)}function g(){var a=e();h.style.top=a+"px"}var h=c.createElement(Planner.Templates.hourline());b.querySelector(".planner-container").appendChild(h),f(),g(),a.setInterval(g,3600*d.hourlineTickUpdate),this.findHeight=e}d.DEFAULTS={hourlineMargin:85,hourlineScreenSection:3,hourlineTickUpdate:5},b.Hourline=d,b.register("hourline",d)}(window,Planner.Plugins,Planner.Utils),function(a,b,c){"use strict";var d=function(a,d,e){this.element=a,this.options=d,this.planner=e,this.listReduced=[],this.currentInteraction=null,this.currentCard=null,this.currentElement=null,this.currentColumn=null,this.initialIndex=null,this.initialY=null;var f=a.querySelectorAll(".planner-column > div"),g={},h={},i=this,j=function(a,b){g[a]=g[a]||[],g[a].push(b.bind(i))},k=function(a,b){h[a]=h[a]||[],h[a].push(b.bind(i))};c.touch&&Planner.Plugins.isRegistered("mobile")?(j("cardDomDrawn",this.touchTap),k("touchstart",this.touchPress),k("touchmove",this.touchMove),k("touchend",this.touchEnd)):(j("cardDomDrawn",this.addResizeDom),j("cardDomDrawn",this.cardClick),j("cardDomDrawn",this.dragCard),k("mousedown",this.mouseDown),k("mousemove",this.mouseMove),k("mouseup",this.mouseUp),k("dragover",this.dragOver),k("dragenter",this.dragChangeColumn),k("drop",this.drop));for(var l in g)if(g.hasOwnProperty(l))for(var m=0;m<g[l].length;m++)this.planner.events.subscribe(l,g[l][m]);for(var m=0;m<f.length;m++)for(var n in h)if(h.hasOwnProperty(n))for(var o=0;o<h[n].length;o++)f[m].addEventListener(n,h[n][o]);var p=b.createElement(Planner.Templates.interaction());document.querySelector("head").appendChild(p)};d.DEFAULTS={dragComponent:"---"},a.Interaction=d,a.register("interaction",d)}(Planner.Plugins,Planner.Utils,Planner.Modernizr),function(a,b,c){"use strict";var d={};d.createCard=function(a){var d=this.planner._indexToAttribute(c.index(a)),e=this.planner._indexToAttribute(c.index(a)+1),f=c.updateDate(new Date,d.hours,d.minutes),g=c.updateDate(new Date,e.hours,e.minutes),h=[parseInt(a.parentElement.getAttribute("data-column-id"),10)],i=null;return this.options.autoId&&(i=b.generateId(this.options)),isNaN(h)?null:new this.options.model({id:i,start:f,end:g,columns:h})},a.prototype=c.extend(a.prototype,d)}(Planner.Plugins.Interaction,Planner.Helpers,Planner.Utils),function(a,b){"use strict";var c={};c.drag=function(a){this.planner.events.publish("/card/actions/dragged",[this.currentCard,this.currentElement]),a.appendChild(this.currentElement);var c=this.currentElement.getAttribute("data-end")-this.currentElement.getAttribute("data-start"),d=parseInt(this.currentElement.parentElement.parentElement.getAttribute("data-column-id"),10),e=b.index(this.currentElement.parentNode),f=0!==c?c+1:c,g=this.planner._indexToAttribute(e),h=this.planner._indexToAttribute(e+f),i=b.updateDate(this.currentCard.start,g.hours,g.minutes),j=b.updateDate(this.currentCard.end,h.hours,h.minutes);this.currentCard.update({columns:[d],start:i,end:j}),b.removeClass(this.currentElement,"dragged"),this.planner.updateDom(this.currentElement,this.currentCard,d),this.resetDashedDom()},c.resetDashedDom=function(){for(;this.listReduced.length>0;)b.removeClass(this.listReduced.pop(),"card-dashed")},a.prototype=b.extend(a.prototype,c)}(Planner.Plugins.Interaction,Planner.Utils),function(a,b){"use strict";var c={};c.startInteraction=function(a,b,c,d,e){this.currentInteraction=a,this.currentCard=b,this.currentElement=c,this.currentColumn=c.parentElement.parentElement,this.initialIndex=d,this.initialY=e,this.planner.events.publish("/card/interaction/starts",[a])},c.stopInteraction=function(){this.currentElement.style.width="",this.currentElement.style.left="",this.planner.events.publish("/card/interaction/drawn",[this.currentCard,this.currentElement]),this.planner.events.publish("/card/interaction/ends",[this.currentInteraction]),this.currentInteraction=null,this.currentCard=null,this.currentElement=null,this.currentColumn=null,this.initialIndex=null,this.initialY=null},a.prototype=b.extend(a.prototype,c)}(Planner.Plugins.Interaction,Planner.Utils),function(a,b,c){"use strict";var d={};d.addResizeDom=function(a,d){if(!a.fixed){for(var e=c.createElement(b.drag({dragComponent:this.options.dragComponent})),f=d.querySelectorAll(".planner-card-title"),g=0;g<f.length;g++)f[g].parentNode.appendChild(e);e.addEventListener("mousedown",this.mouseDownResize.bind(this,a,d))}},d.resize=function(a){var b=Math.floor((a-this.initialY)/this.options.timeslotHeight),d=this.planner._indexToAttribute(this.initialIndex+b+1);b>=0&&(this.currentCard.update({end:c.updateDate(this.currentCard.end,d.hours,d.minutes)}),this.planner.updateDom(this.currentElement,this.currentCard))},a.prototype=c.extend(a.prototype,d)}(Planner.Plugins.Interaction,Planner.Templates,Planner.Utils),function(a,b){"use strict";var c={};c.cardClick=function(a,b){a.fixed||b.addEventListener("click",this.mouseClick.bind(this,a,b))},c.mouseClick=function(a,b,c){var d=b.children[0],e=b.children[1];c.target!==b&&c.target!==d&&c.target!==e||null!==this.currentInteraction||this.planner.events.publish("cardClicked",[a,b]),c.stopPropagation()},c.mouseDown=function(a){if(a.currentTarget===a.target){var c=this.createCard(a.target);this.planner.drawCard(c);var d=c.columns[0];this.startInteraction("dragCreation",c,this.planner.mapCard.get(c)[d],b.index(a.target),a.clientY),a.preventDefault()}},c.mouseDownResize=function(a,c,d){this.startInteraction("resize",a,c,this.planner._attributeToIndex(a.start),b.offset(c).top-document.body.scrollTop),b.addClass(this.currentElement,"resizable"),d.preventDefault()},c.mouseMove=function(a){("dragCreation"===this.currentInteraction||"resize"===this.currentInteraction)&&(this.resize(a.clientY),a.preventDefault())},c.mouseUp=function(a){if("dragCreation"===this.currentInteraction)this.planner.events.publish("cardCreated",[this.currentCard,this.currentElement]),this.stopInteraction(),a.preventDefault();else if("resize"===this.currentInteraction){if(this.currentCard.columns.length>1){var c=this.planner.mapCard.get(this.currentCard);for(var d in c)c.hasOwnProperty(d)&&(this.planner.updateDom(c[d],this.currentCard),this.planner.events.publish("cardDomDrawn",[this.currentCard,c[d]]))}b.removeClass(this.currentElement,"resizable"),this.planner.events.publish("cardUpdated",[this.currentCard,this.currentElement]),this.stopInteraction(),a.preventDefault()}},a.prototype=b.extend(a.prototype,c)}(Planner.Plugins.Interaction,Planner.Utils),function(a,b){"use strict";var c={};c.dragOver=function(a){a.preventDefault()},c.drop=function(a){this.drag(a.currentTarget),this.planner.events.publish("cardUpdated",[this.currentCard,this.currentElement]),this.stopInteraction(),a.preventDefault()},c.dragChangeColumn=function(a){a.currentTarget.parentElement!==this.currentColumn&&(this.currentColumn=a.currentTarget.parentElement,this.resetDashedDom())},c.dragCard=function(a,c){if(!a.fixed){var d=this;c.setAttribute("draggable",!0);var e=function(e){a.columns.length>1?e.preventDefault():(d.startInteraction("dragMove",a,c),b.addClass(c,"dragged"),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",c.outerHTML),e.dataTransfer.setDragImage(c,5,10))},f=function(){b.hasClass(c,"card-dashed")||(b.addClass(c,"card-dashed"),d.listReduced.push(c))};c.addEventListener("dragstart",e),c.addEventListener("dragover",f)}},a.prototype=b.extend(a.prototype,c)}(Planner.Plugins.Interaction,Planner.Utils),function(a,b){"use strict";var c,d=300,e=0,f=0,g=0,h={};h.touchPress=function(a){function f(){h=i.createCard(a.target),i.planner.drawCard(h),g=h.columns[0],i.startInteraction("dragCreation",h,i.planner.mapCard.get(h)[g],b.index(a.target),a.touches[0].clientY)}var g,h,i=this;c=setTimeout(f,d),e=a.touches[0].pageY},h.touchMove=function(a){c&&e!==a.touches[0].pageY&&clearTimeout(c);var b=a.touches[0];f=b.pageX,g=b.pageY,null!==this.currentCard&&(this.resize(a.touches[0].clientY),a.preventDefault())},h.touchEnd=function(){c&&clearTimeout(c),null!==this.currentCard&&(this.planner.events.publish("cardCreated",[this.currentCard,this.currentElement]),this.stopInteraction())},h.touchTap=function(a,b){function c(c){var h=c.touches[0],i=f=h.pageX,j=g=h.pageY;setTimeout(function(){i===f&&j===g&&e.planner.events.publish("cardClicked",[a,b])},d)}var e=this;b.addEventListener("touchstart",c)},a.prototype=b.extend(a.prototype,h)}(Planner.Plugins.Interaction,Planner.Utils);